\chapter{Fundamentação Teórica}
\label{cap:tecnologiasUtilizadas}

Neste capitulo, será apresentado as tecnologias utilizadas no desenvolvimento
do aplicativo R2P. Essas tecnologias apoiam o programador e facilita o
desenvolvimento através do uso de API´s e frameworks já desenvolvidos.

\section{Android}
\label{sec:adroid}

O Android é uma plataforma composta por um sistema operacional, \textit{middlewares} e um
conjunto de aplicativos principais, como os contatos, o navegador de internet e o telefone
propriamente dito. Além disso, existe o Android SDK, que é um conjunto de ferramentas
e APIs para o desenvolvimento de aplicativos para a plataforma, utilizando a linguagem
Java \cite{monteirogoogle}.

Baseado no Linux, o sistema operacional Android teve seu
desenvolvimento iniciado em 2003 pela empresa Android Inc. Em
2005, esta foi adquirida pelo Google, que hoje lidera o
desenvolvimento do Android.\cite{monteirogoogle}.

%Falar sobre as versões do Android.
A história da versão do sistema operacional móvel Android começou 
com o lançamento da versão alpha em novembro de 2007.
A segunda versão comercial, o Android 1.0, foi lançado em setembro de 2008.
O sistema operacional recebeu uma série de atualizações desde o seu lançamento
original. Essas atualizações geralmente corrigem erros e adicionam novas funcionalidades.

\textbf{Abaixo segue as principais versões do Android:} 

\textbf{Android 2.2 - Froyo:} Foi lançado em 20 de maio de 2010, sendo 5
vezes mais rápido que as versões anteriores, navegador web nativo, possibilidade de
armazenar aplicativos no cartão SD, Desenvolvedores podem criar apps que 
aprimoram a segurança do aparelho, como as telas de bloqueio, etc.

\textbf{Android 2.3 - Gingerbread:} Foi lançado em 06 de dezembro de 2010,
fornecendo suporte a aparelhos com câmeras frontais, suporte a sensores de movimentos,
teclado virtual melhorado e chamadas pela internet.

\textbf{Android 4.0 - Ice Cream Sandwich :} Foi lançado em 19 de outubro de
2011, com destaque a gabe Cohen, da Google, declarou que o Android 4.0 era
"teoricamente compatível" com qualquer dispositivo Android 2.3.x em produção na época.

\textbf{Android 4.1/4.2/4.3 - Jelly Bean :} Foi lançado 09 de julho de
2012, Jelly Bean foi uma atualização incremental com o objetivo principal de melhorar a funcionalidade
e desempenho da interface do usuário

\textbf{Android 4.4 - KitKat :} Foi lançado 15 de janeiro de 2014. Após
recente acordo com a Nestlé, o novo sistema Android leva o nome de um dos doces mais famosos da marca. 

\textbf{Android 5.0/5.1 - Lollipop :} Foi lançado 03 de novembro de 2014,
Com esta versão podemos destacar presença do Material Design, que deixa apps mais chamativos e
bonitos, novo modo de economia de bateria, sistema muito limpo e fluido e etc.

\textbf{Android 6.0 - Marshmallow :} Foi lançado em 05 de outubro de 2015,
as principais melhorias que podemos destacar são, melhorias para compartilhamento de conteúdo
entre aplicativos, suporte para autorização de permissões de aplicativos sob
demanda, modo de tela 4K para apps, adaptação de memória externa (SD cards) como
parte da memória interna, etc.

\textbf{Android 7.0 Nougat :} Foi lançado 22 de agosto de 2016 é a versão
mais atual do antroid e com ele veio, função de multi-janela, novo menu de notificações,
informações de emergência, biblioteca OpenJDK, em vez de JAVA e etc.

Na Figura \ref{versoesAndroid} é possível observar as principais versões do
Sistema Operacional Android até 1ª de agosto de 2016.

A evolução do sistema operacional Android acompanha a evolução do hardware, dessa forma, 
o SO do Android foi Desenvolvido especialmente para dispositivos móveis, como aparelhos celulares
e \textit{Tablets}, e agora também suportando dispositivos "vestíveis"
\textit{wearables}, como relógios, pulseiras, óculos, dentre outros.



%\subsection{Arquitetura Android}
%\label{subsec:arquiteturaadroid}

\section{Persitência de dados}
\label{sec:persistinciaDados}

Persistência de dados significa armazená-los em algum local de modo que possamos 
recuperá-los posteriormente. 

No Android existem várias formas de fazer isso. E esta forma vai depender da
necessidades específicas.

Abaixo segue algumas formas de armazenamento de dados no Android:

\begin{enumerate}
   \item \textit{\textbf{SharedPreferences}} : Armazenar dados particulares
   primitivos em pares chave-valor;
   \item \textit{\textbf{Internal Storage}} : Armazenar dados privados
  	na memória do dispositivo.
   	( com persistência de objetos );
  	\item \textit{\textbf{External Storage}} : Armazenar dados públicos
  	sobre o armazenamento externo compartilhado;
	\item \textit{\textbf{TeSQLite Databasesxto}}: Armazenar dados estruturados em
	um banco de dados privado.
	\item \textit{\textbf{Network Connection}}: Armazena dados na web, ou seja
	em um servidor web service em rede.
 \end{enumerate}
 
O Android fornece uma maneira para que
você possa expor seus dados privados para outras aplicações com um \textit{content provider}. 
Um \textit{content provider} é um componente opcional que permite o acesso de leitura e escrita aos 
dados de sua aplicação, sujeito às restrições impostas por você.
 
No aplicativo R2P foi escolhido o \textit{\textbf{Network Connection}}
conexão em rede definida de web  \textit{service}.

Web service é uma tecnologia de acesso a dados que permite a troca de
informações estruturada a partir de mensagens XML e SOAP.
Esta tecnologia permite que diferentes empresas, mesmo utilizando tecnologias e
plataformas distintas, conectem-se de maneira padrão e executem procedimentos remotos através 
da utilização do protocolo padrão da internet - HTTP. 

\subsection{Web service}
\label{subsec:webService}
%http://www.devmedia.com.br/utilizando-web-service-no-acesso-a-dados-remotos/31859

O uso do Web service é muito interessante, pois permite acesso a rotinas de
várias empresas e com informações de tempo real visto que estas podem mudar o
tempo todo.

%\subsection{Web service RestFul}
%label{subsec:webServiceRestFul}
%http://www.devmedia.com.br/introducao-a-web-services-restful/37387

Os web \textit{services} podem ser implementados de muitas maneiras diferentes, cada uma
com vantagens e desvantagens próprias da solução técnica adotada. Em sistemas 
desenvolvidos se utilizando a linguagem Java existem duas soluções, que na documentação
da Oracle são denominadas como \textit{ Big Web Services } e \textit{ RESTful Web Services }. 
Tanto os web \textit{Services Big} quanto os \textit{RESTful} fazem parte da API Java para 
XML (Java API for XML - JAX), que foi introduzida ao Java SE na versão 5.
 
  Os \textit{Web Services RESTful} Transferência de Estado Representacional \textit{Representational State Transfer} são 
 mais adequados para a utilização
  em cenários mais básicos, e também são melhor 
 adaptados ao uso do protocolo HTTP do que os serviços \textit{ SOAP }. Os serviços \textit{ RESTful } 
 são mais leves, o que significa que podem ser desenvolvidos com menor esforço, 
 tornando-os mais fáceis de serem adotados como parte da implementação de um sistema.
 São mais indicados para a integração de sistemas através da internet,
 conferindo às soluções qualidades como escalabilidade, simplicidade e fraco acoplamento entre as partes.
 
 No para o aplicativo R2P foi escolhido o web \textit{services RESTful},
 conforme arquitetura mostrado na figura \ref{restwebsrvices}. 
 
 
 %https://developer.android.com/about/dashboards/index.html#Screens
\begin{figure}[h]
\centering
\includegraphics[width=15cm]{imagens/androidVersoes2.png}
%\includegraphics[scale=0.60]{imagens/EngenhariaSoftware.png}
\caption{Dados coletados durante um período de 7 dias encerrado em 1º de agosto
de 2016. Todas as versões com menos de 0,1 por cento de distribuição não foram
exibidas.} 
\label{versoesAndroid}
\end{figure}


\section{Sistemas de Objetos Distribuídos}
\label{sec:sistemaDistribuidos}

%nova 
Várias definições de sistemas distribuídos foram dadas na literatura,
nenhum deles satisfatório, e nenhum deles de acordo com qualquer um dos outros.
Para nossos propósitos é suficiente dar uma caracterização frouxa.
Um sistema distribuído é uma coleção de computadores para os seus utilizadores
como um único sistema coerente \cite{distribuidos:2006}.

Esta definição tem vários aspectos importantes. A primeira é que um
consiste em componentes (isto é, computadores) que são autónomos. Um segundo
É que os usuários (sejam eles pessoas ou programas) acham que estão lidando com
sistemas. Isto significa que, de uma forma ou de outra, os componentes autónomos
Precisam colaborar \cite{distribuidos:2006}. 

Como estabelecer esta colaboração está no centro dos
Sistemas distribuídos. Note-se que não são feitas suposições sobre o tipo
de computadores. Em princípio, mesmo dentro de um único sistema, eles podem
variar de Alto desempenho para pequenos nos em redes de sensores. Da mesma
forma, Nenhuma suposição é feita na maneira que os computadores são
interconectados \cite{distribuidos:2006}.

Em vez de ir mais longe com as definições, talvez seja mais útil
em características importantes de sistemas distribuídos. Uma característica
importante e que as diferenças entre os vários computadores e as formas como
eles se comunicam são na sua maioria escondidos dos usuários. O mesmo vale para
a organização do sistema distribuído. Outra característica importante é que
usuários e aplicativos podem interagir com um sistema distribuído de forma
maneira uniforme, independentemente de onde e quando a interação ocorre
\cite{distribuidos:2006}.

Em princípio, os sistemas distribuídos também devem ser relativamente fáceis de
escala. Esta característica é uma consequência direta de ter computadores independentes,
Mas ao mesmo tempo, escondendo como esses computadores realmente participam no
Sistema como um todo. Um sistema distribuído estará normalmente disponível continuamente,
Embora talvez algumas partes possam estar temporariamente fora de ordem. 
Usuários e aplicativos não deve notar que as peças estão sendo substituídas ou
fixadas, ou que Adicionado para servir mais usuários ou aplicativos  \cite{distribuidos:2006}.

%old
%Os sistemas de objetos distribuídos são um novo paradigma da computação, o qual
%permite que os componentes do sistema estejam espalhados em uma rede
% heterogênea.
%Estes componentes recebem o nome de objetos distribuídos, que podem interoperar
% com outros objetos.

Um sistema de objetos distribuídos permite que os componentes de um sistema
estejam espalhados em uma rede heterogênea e mesmo assim ainda haja comunicação entre
eles.

Segue abaixo algumas arquiteturas de objetos distribuídos:
\begin{enumerate}
\item \textit{\textbf{Distributed Component Object Model}} \textbf{(DCOM)}: é
uma versão distribuída do modelo COM da Microsoft que promove comunicação entre componentes distribuídos em uma 
rede de computadores. Esses componentes podem se comunicar independente da 
linguagem em que foram desenvolvidos e até linguagens de outros fabricantes;
\item \textit{\textbf{Java Remote Method Invocation and
Specification}} \textbf{(Java/RMI)}: é uma arquitetura de sistemas distribuídos
para linguagem de programação Java, que tem o objetivo de dar suporte à invocação remota transparente de métodos em objetos distribuídos em diferentes máquinas virtuais java;
\item \textit{\textbf{Common Object Request Broker Architecture}} 
\textbf{(CORBA)}:
tecnologia desenvolvida pela OMG \textit{(Object Management Group)}, onde seus objetivos gerais são permitir a interoperabilidade de objetos 
 de software rodando sobre sistemas distribuídos e permitir sua composição 
 em aplicações. Para padronizar a aparência externa dos objetos é utilizada
 uma IDL \textit{(Interface Definition Language)}. A IDL define as interfaces contratuais 
 de um componente com seus potenciais clientes.
\end{enumerate}

A figura \ref{notificacao} mostra o \textit{Design Pattern} proposto por
\textit{Mowbray} (1997). 
Este é um padrão de notificação de eventos do CORBA e é
ultilizado para comunicação entre objetos em um ambiente distribuído.
Os eventos são enviados ou recebidos através de um canal compartilhado.
Com dois modelos de eventos o \textit{push model} e o \textit{pull model}.
Este padrão pode ser utilizado quando é necessário ter um gerenciamento de
eventos na aplicação e informar todos os objetos distribuídos sobre um evento
ocorrido.

\begin{figure}[h]
\centering
%\includegraphics[width=15cm]{imagens/diagramaAquitetura.png}
%\includegraphics[scale=0.60]{imagens/EngenhariaSoftware.png}
\includegraphics[width=15cm]{imagens/notificacao.png}
\caption{\textit{Pattern} de notificação }
\label{notificacao}
\end{figure}



\section{Aplicações móveis}
\label{sec:apliMoveis}


Os dispositivos móveis oferecem grande comodidade. Essa comodidade pode ser
expressada através de alguns recursos, tais como, acesso a internet,
aplicativos corporativos acessíveis, baixo custo, dentre outros. 
Diante desta realidade a demanda por aplicativos é cada vez maior, seja
aplicativos para exercer uma Venda ou para prover algum tipo de Serviço.

Mobilidade pode ser definida como a capacidade de poder se deslocar ou ser deslocado facilmente. 
No contexto da computação móvel, mobilidade se refere ao
uso pelas pessoa de dispositivos  móveis portáteis funcionalmente poderosos que
ofereçam a capacidade de realizar facilmente um conjunto de funções de
aplicação, sendo também capazes de conectar-se, obter dados e fornecê-los a outros usuários, 
aplicações e sistemas \cite{leeaplicações:2005}.

Para fazer isso, um dispositivo móvel deve possuir determinadas características.
por exemplo, deve ser portátil e o usuário se capaz de transportá-los com relativa
facilidade, características como peso e tamanho são essenciais. Um dispositivo
móvel também tem de ser altamente utilizável, funcional e permitir fácil conectividade e comunicação com outros dispositivos
como podemos ver na Figura \ref{aplicaMov} \cite{leeaplicações:2005}.

\begin{figure}[h]
\centering
%\includegraphics[width=15cm]{imagens/diagramaAquitetura.png}
%\includegraphics[scale=0.60]{imagens/EngenhariaSoftware.png}
\includegraphics[width=15cm]{imagens/apliMoveis.png}
\caption{Característica de mobilidade}
\label{aplicaMov}
\end{figure}

As arquiteturas de aplicações móveis podem ser modeladas convenientemente de
acordo com cada propósito e ou problema a ser resolvido por elas.
Os clientes podem estar sempre conectados, parcialmente conectados ou nunca
conectados a um servidor.
O código em um cliente ou servidor pode estar em camadas.
Um cliente pode ter de zero até três camadas, enquanto o servidor tem de uma a
três camadas.

Dependendo de cada contexto, pode não ser possível implementar todas as melhores
práticas de desenvolvimento de Software. Contudo, é necessário perceber que
muitas destas melhores práticas arquiteturais de aplicação móvel obedecem a
vários outros princípios já conhecidos, como por exemplo:
\begin{itemize}
  \item Requisitos:  projeto arquitetônico que abrange os requisitos funcionais,
  de negócios, não funcionais e de usuário.
  \item Independência de tecnologia: Alcançar o máximo de independência de um
  disposito em relação a uma tecnologia específica.
  \item Alto desempenho e disponibilidade: desempenho esperado durante períodos
  normais e de pico de demanda de recursos.
  \item Escalabilidade: capacidade de permitir escalonamento tanto horizontal
  quanto vertical, sem afetar quaisquer outros recursos e em um cenário ideal,
  sem demandar codificações extras.
  \item Requisitos de sistema de usuário: Levar em consideração o escopo
  completo de usuários, incluindo aqueles com sistema de alto e baixo
  desempenhos.
\end{itemize}

Dessa forma, observamos que existem diversos tipos de arquiteturas a serem
adotadas. Cada uma dessas arquiteturas servem a algum propósito e na maioria das
vezes são utilizadas de maneira combinada entre si. A combinação desses modelos
de arquitetura estão vinculados as boas práticas e o que se deve levar em
consideração a criar o projeto para atender a um ou mais objetivos.



